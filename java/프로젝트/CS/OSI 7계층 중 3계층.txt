2022. 4. 18.(일)

CS - OSI 7계층 中 3계층

-----------------------------------------------------------------

1. OSI 7계층

1-1. 1계층 : 물리계층

	- 실제 데이터가 오가는 통신채널을 담당

1-2. 2계층 : 데이터링크 계층 

	- 바로 옆의 노드와 통신하는 주요 역할을 담당
	
	- 스위치 사용

1-3. 3계층 : 네트워크 계층

	- 바로 옆 노드를 넘어서 최종 목적지에 도달하게 해주는 계층

	- 최종 목적지로 도달하는 방법을 네비처럼 알려줌.
	  이를 '라우팅' 이라고 한다.

[ 중심 내용 ]

- 2계층 즉, 데이터링크 계층에서는 바로 연결된 이웃 컴퓨터와의 통신만을 관리
 
  이 때, 컴퓨터란 라우터, 스위치 등 주소가 부여되어 통신을 할 수 있는 기기를 통칭한다.

  데이터링크가 옆 노드를 신경 쓴다면, 네트워크 계층은 출발지에서 목적지를 관리한다.

- 이 때, 3계층에서는 데이터를 전달하기 위해 실제로 우리가 많이 사용하는 IP를 이용한다. 

- 데이터 작성은 7계층에서 이루어지며, 이를 회선으로 흘려보내기 위해 1계층까지 흘러야 한다.

  이 과정에서 데이터를 통신하기 위해 모종의 데이터들이 앞뒤에 붙는다.

  특히, 3계층에서는 흘려내려온 데이터 헤더에 IP주소와 같은 정보를 넣어 데이터를 연결한다!

  실제 택배 배송으로 예를 들면, 보내는 사람의 주소와 받는 사람의 주소를 입력하는 역할을 한다.

  이렇게 데이터가 OSI 계층을 이동하며 데이터들이 추가되어 내려오는 것을 '캡슐화' 라고 한다.

- 네트워크 계층의 데이터는 '패킷' 이라고 한다.

  프레임 <- 패킷 <- 세그먼트

- IP 프로토콜만 예시로 들어보겠습니다!

- 내가 사용하는 로컬 네트워크의 범위를 LAN이라고 하며, 이는 스위치를 기준으로 컴퓨터들이 연결되어 있다.

  이 때, 스위치는 2계층 장비이다.

  스위치로 연결된 컴퓨터는 하나의 LAN에 속한다.

- 스위치는 MAC주소의 정보를 이용해 같은 LAN에 속하는 컴퓨터들의 데이터 전송을 돕는다.
  
  따라서, 스위치를 MAC ADDRESS TABLE 이라고 생각하자!

  이 때, MAC 주소는 물리적 주소이며, 각 컴퓨터의 정확한 주소를 알려주기 보다,
 
  현실의 표지판과 같이 데이터를 전송하려는 컴퓨터의 방향을 알려준다.

- 그러나 3계층은 스위치로 연결된 동일 LAN에서의 통신이 아닌, 다른 네트워크간의 통신을 가능하게 한다.

  기준은 역시 같은 LAN에 연결되어 있지 않은 다른 네트워크로의 데이터 전송이다.

  따라서 다른 네트워크의 MAC주소를 알아도 데이터 전송은 불가능하다.

  ☆ 첫번째로, 데이터를 보내려는 컴퓨터의 네트워크 대역대를 확인하고, 
      다른 네트워크의 컴퓨터임이 확인되면, 해당 컴퓨터의 MAC주소가 아닌, 라우터의 맥주소로 데이터를 전송한다.

  ☆ 라우터의 역할은 다음과 같다.

      A라는 네트워크에서 다른 네트워크로 데이터를 전송할 때, 먼저 A 네트워크에서 다른 네트워크로 전송하는 
 
      모든 데이터를 한꺼번에 모아둔다 ( 물류 창고 개념 ). 그 후, 각각의 네트워크에 보내는 데이터들을 

      해당 네트워크의 라우터로 전달한다 ( 타 네트워크의 물류 창고 ).

      이제, 각각의 데이터들을 스위치로 전달하여 데이터를 전송한 후 훤하는 컴퓨터로의 데이터 전달을 마무리한다.

  ☆ 스위치가 MAC 주소, 즉 물리적 주소를 갖고 있듯이, 라우터는 논리적 주소, IP 주소 지도를 관리하고 있다. 

      이를 라우팅 테이블이라고 한다.

      라우팅 테이블에는 동일한 LAN에 연결되는 컴퓨터를 관리하는 것이 아니기에 MAC 주소는 없고,
  
      논리적 주소인 IP로 허브들을 관리하고 있다. 즉, 네트워크 대역대만 보고 해당 네트워크의 라우터로 보낸다.

  출처  :  ( https://jhnyang.tistory.com/498 )